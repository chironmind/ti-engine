"use strict";(self.webpackChunkti_engine_docs=self.webpackChunkti_engine_docs||[]).push([[693],{5847:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"tutorials/advanced","title":"Tutorial 3: Advanced Usage of ti-engine (RSI variant evaluation)","description":"In this tutorial we go deep on just one indicator: the Relative Strength Index (RSI).","source":"@site/docs/tutorials/advanced.md","sourceDirName":"tutorials","slug":"/tutorials/advanced","permalink":"/ti-engine/docs/tutorials/advanced","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{},"sidebar":"docsSidebar","previous":{"title":"Tutorial 2: Visualizing Indicators with Plotly","permalink":"/ti-engine/docs/tutorials/plotting"},"next":{"title":"Tutorial 4: Connecting to a Market Data API (JavaScript)","permalink":"/ti-engine/docs/tutorials/api"}}');var t=i(4848),r=i(8453);const o={},l="Tutorial 3: Advanced Usage of ti-engine (RSI variant evaluation)",a={},d=[{value:"\ud83c\udfaf Goal",id:"-goal",level:2},{value:"\ud83e\udde9 Why Focus on RSI?",id:"-why-focus-on-rsi",level:2},{value:"\ud83d\udce6 Requirements",id:"-requirements",level:2},{value:"\ud83d\udcc2 Data Setup (inline, no CSV)",id:"-data-setup-inline-no-csv",level:2},{value:"\ud83d\udd27 Define Model Types and Period",id:"-define-model-types-and-period",level:2},{value:"\ud83e\uddee Compute RSI Variants and Rate Signals",id:"-compute-rsi-variants-and-rate-signals",level:2},{value:"\ud83e\udde0 Interpreting Results",id:"-interpreting-results",level:2},{value:"\ud83d\udcdd Extending Further",id:"-extending-further",level:2},{value:"\ud83d\udee1\ufe0f Disclaimer",id:"\ufe0f-disclaimer",level:2},{value:"\u2705 Next Step",id:"-next-step",level:2}];function c(e){const n={a:"a",br:"br",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"tutorial-3-advanced-usage-of-ti-engine-rsi-variant-evaluation",children:"Tutorial 3: Advanced Usage of ti-engine (RSI variant evaluation)"})}),"\n",(0,t.jsxs)(n.p,{children:["In this tutorial we go deep on just one indicator: the Relative Strength Index (RSI).",(0,t.jsx)(n.br,{}),"\n","We will systematically compare different ConstantModelType variants and a fixed period, score their signals, and rank configurations.",(0,t.jsx)(n.br,{}),"\n","You can later apply the exact same framework to other indicators (see \u201cExtending Further\u201d)."]}),"\n",(0,t.jsx)(n.p,{children:"Series so far:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/ti-engine/docs/tutorials/getting-started",children:"01- Getting started"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/ti-engine/docs/tutorials/plotting",children:"02 - Plotting your indicators"})}),"\n",(0,t.jsx)(n.li,{children:"03 - More advanced use cases (this file)"}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/ti-engine/docs/tutorials/api",children:"04 - Getting data from an API"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/ti-engine/docs/tutorials/websockets",children:"05 - Real-time updates with WebSockets (single vs bulk)"})}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-goal",children:"\ud83c\udfaf Goal"}),"\n",(0,t.jsx)(n.p,{children:"You will learn how to:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"Enumerate RSI variants via different ConstantModelType values."}),"\n",(0,t.jsx)(n.li,{children:"Compute RSI for a fixed period (e.g., 5)."}),"\n",(0,t.jsx)(n.li,{children:"Generate oversold signals (RSI < 30)."}),"\n",(0,t.jsx)(n.li,{children:"Score each signal using a forward-looking heuristic."}),"\n",(0,t.jsx)(n.li,{children:"Aggregate scores into a ranked table of configurations."}),"\n",(0,t.jsx)(n.li,{children:"Plan how to extend the same pattern to other indicators."}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-why-focus-on-rsi",children:"\ud83e\udde9 Why Focus on RSI?"}),"\n",(0,t.jsx)(n.p,{children:"Keeping scope narrow:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Makes the scoring logic clearer."}),"\n",(0,t.jsx)(n.li,{children:"Prevents tutorial bloat."}),"\n",(0,t.jsx)(n.li,{children:"Lets you internalize the evaluation pattern before generalizing."}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-requirements",children:"\ud83d\udce6 Requirements"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"npm install ti-engine\n"})}),"\n",(0,t.jsx)(n.p,{children:"Initialize (required in browsers; no-op in Node):"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'import init from "ti-engine";\nawait init();\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-data-setup-inline-no-csv",children:"\ud83d\udcc2 Data Setup (inline, no CSV)"}),"\n",(0,t.jsx)(n.p,{children:"We\u2019ll reuse the inline Close array from previous tutorials."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:"// Close prices\nconst close = [\n  6037.59, 5970.84, 5906.94, 5881.63, 5868.55, 5942.47, 5975.38, 5909.03,\n  5918.25, 5827.04, 5836.22, 5842.91, 5949.91, 5937.34, 5996.66, 6049.24,\n  6086.37, 6118.71, 6101.24, 6012.28, 6067.70, 6039.31, 6071.17, 6040.53,\n  5994.57, 6037.88, 6061.48, 6083.57, 6025.99, 6066.44, 6068.50, 6051.97,\n  6115.07, 6114.63, 6129.58, 6144.15, 6117.52, 6013.13, 5983.25, 5955.25,\n  5956.06, 5861.57, 5954.50, 5849.72, 5778.15, 5842.63, 5738.52, 5770.20,\n  5614.56, 5572.07, 5599.30, 5521.52, 5638.94\n];\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-define-model-types-and-period",children:"\ud83d\udd27 Define Model Types and Period"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'import { momentumIndicators, ConstantModelType } from "ti-engine";\n\nconst CONSTANT_MODELS = [\n  ConstantModelType.SimpleMovingAverage,\n  ConstantModelType.SmoothedMovingAverage,\n  ConstantModelType.ExponentialMovingAverage,\n  ConstantModelType.SimpleMovingMedian,\n  ConstantModelType.SimpleMovingMode\n];\n\nconst RSI_PERIOD = 5;\nconst OVERSOLD = 30.0;\n'})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-compute-rsi-variants-and-rate-signals",children:"\ud83e\uddee Compute RSI Variants and Rate Signals"}),"\n",(0,t.jsx)(n.p,{children:"Scoring rule (toy example):"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Signal: RSI < 30 at bar i (oversold)"}),"\n",(0,t.jsx)(n.li,{children:"Win: next close (i+1) > current close (i)"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Alignment notes:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"For period p, rsi[0] corresponds to the window close[0..p-1] and \u201canchors\u201d at index i = p - 1."}),"\n",(0,t.jsx)(n.li,{children:"Thus at bar i, the RSI index is rsiIdx = i - (p - 1)."}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-js",children:'function enumKeyByValue(enumObj, value) {\n  const found = Object.entries(enumObj).find(([, v]) => v === value);\n  return found ? found[0] : String(value);\n}\n\nfunction evaluateRsiVariants(prices, period = RSI_PERIOD, oversold = OVERSOLD) {\n  const results = [];\n\n  for (const ctype of CONSTANT_MODELS) {\n    const rsi = momentumIndicators.bulk.relativeStrengthIndex(prices, ctype, period);\n\n    let totalSignals = 0;\n    let correctSignals = 0;\n\n    // Iterate prices indices i from (period - 1) to (L - 2), so i+1 is in range\n    for (let i = period - 1; i < prices.length - 1; i++) {\n      const rsiIdx = i - (period - 1);\n      const r = rsi[rsiIdx];\n\n      if (r < oversold) {\n        totalSignals += 1;\n        if (prices[i + 1] > prices[i]) correctSignals += 1;\n      }\n    }\n\n    const successRate = totalSignals > 0 ? correctSignals / totalSignals : 0.0;\n\n    results.push({\n      model: ctype,\n      modelName: enumKeyByValue(ConstantModelType, ctype),\n      period,\n      signals: totalSignals,\n      correct_signals: correctSignals,\n      success_rate: successRate\n    });\n  }\n\n  // Sort descending by success_rate\n  results.sort((a, b) => b.success_rate - a.success_rate);\n  return results;\n}\n\n// Run the evaluation\nconst scores = evaluateRsiVariants(close, RSI_PERIOD, OVERSOLD);\n\n// Pretty-print\nconsole.log(`RSI Model Ratings (RSI < ${OVERSOLD}, period=${RSI_PERIOD}):`);\nfor (const row of scores) {\n  const rate = (row.success_rate * 100).toFixed(2) + "%";\n  console.log(\n    `${row.modelName.padEnd(24)} | signals ${String(row.signals).padStart(3)} | wins ${String(row.correct_signals).padStart(3)} | success ${rate}`\n  );\n}\n\nconst best = scores[0];\nconsole.log(`\\nBest model: ${best.modelName} (Success Rate: ${(best.success_rate * 100).toFixed(2)}%)`);\n'})}),"\n",(0,t.jsx)(n.p,{children:"Example console output (will vary with data):"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"RSI Model Ratings (RSI < 30, period=5):\nSimpleMovingMedian         | signals  18 | wins  10 | success 55.56%\nSimpleMovingAverage        | signals  16 | wins   8 | success 50.00%\nSmoothedMovingAverage      | signals  17 | wins   8 | success 47.06%\nSimpleMovingMode           | signals  17 | wins   8 | success 47.06%\nExponentialMovingAverage   | signals  19 | wins   8 | success 42.11%\n\nBest model: SimpleMovingMedian (Success Rate: 55.56%)\n"})}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-interpreting-results",children:"\ud83e\udde0 Interpreting Results"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"model/modelName: The constant model type tested."}),"\n",(0,t.jsx)(n.li,{children:"period: RSI period (fixed here at 5 for comparison)."}),"\n",(0,t.jsx)(n.li,{children:"signals: Count of oversold signals (RSI < 30)."}),"\n",(0,t.jsx)(n.li,{children:"correct_signals: Count of signals where the next bar closed higher."}),"\n",(0,t.jsx)(n.li,{children:"success_rate: correct_signals / signals."}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Notes:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"A higher success rate suggests the model/period pair gives better \u201cnext bar up\u201d predictions when oversold."}),"\n",(0,t.jsx)(n.li,{children:"If signals is very low, results may not be reliable\u2014try longer history or adjust period/thresholds."}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-extending-further",children:"\ud83d\udcdd Extending Further"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Try other periods: loop p in [5..30] and keep top-k per model."}),"\n",(0,t.jsx)(n.li,{children:"Add \u201csell\u201d evaluation (RSI > 70 and next bar down) and combine scores."}),"\n",(0,t.jsx)(n.li,{children:"Test other thresholds (e.g., 80/20; adaptive zones)."}),"\n",(0,t.jsx)(n.li,{children:"Use longer-forward horizons: check next N bars, or require a minimum upside."}),"\n",(0,t.jsx)(n.li,{children:"Apply the same scoring to bands (upper/lower touches) or crossovers (MA cross)."}),"\n",(0,t.jsx)(n.li,{children:"Visualize signal points on the chart (see Tutorial 2)."}),"\n"]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"\ufe0f-disclaimer",children:"\ud83d\udee1\ufe0f Disclaimer"}),"\n",(0,t.jsxs)(n.p,{children:["This is a didactic example, not a trading strategy.",(0,t.jsx)(n.br,{}),"\n","Success rate on \u201cnext bar\u201d is just one toy metric\u2014proper research requires out-of-sample testing, risk modeling, and more."]}),"\n",(0,t.jsx)(n.hr,{}),"\n",(0,t.jsx)(n.h2,{id:"-next-step",children:"\u2705 Next Step"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.a,{href:"/ti-engine/docs/tutorials/api",children:"Connecting to an API"})}),"\n",(0,t.jsx)(n.p,{children:"Happy model testing! \ud83e\udd80\ud83d\udcc8"})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>l});var s=i(6540);const t={},r=s.createContext(t);function o(e){const n=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);